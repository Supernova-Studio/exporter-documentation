(()=>{var t={"./assets/js/search.js":()=>{function t(t){$(".SNSearch").toggleClass("active"),$(".SNSearch").is(".active")&&($(".SNSearch-input").val(""),$(".SNSearch-input").focus(),$(".SNSearch-results").html('<p class="section-title empty">Start your search by typing your phrase</p>')),t.preventDefault()}function e(){$(".SNSearch").is(".active")&&$(".SNSearch").removeClass("active")}$(".search").on("click",(function(e){t(),e.preventDefault()})),$(".SNSearch").on("click",(function(t){e()})),$(".SNSearch-box").on("click",(function(t){t.stopPropagation()})),document.addEventListener("animationstart",(function(t){"fade-in"===t.animationName&&t.target.classList.add("did-fade-in")})),document.addEventListener("animationend",(function(t){"fade-out"===t.animationName&&t.target.classList.remove("did-fade-in")}));let n=0;function s(){$(".sn-search-result-link").removeClass("selected");const t=$(`.sn-search-result-link:eq(${n})`);t&&(t.addClass("selected"),function(t,e){let n=t.getBoundingClientRect(),s=e.getBoundingClientRect();n.bottom>s.bottom&&t.scrollIntoView(!1);n.top<s.top&&t.scrollIntoView()}(t[0],t.parent()[0]))}function a(t,e,n){if(-1===e)return t;return`${t.substring(0,e)}<span>${t.substring(e,n)}</span>${t.substring(n)}`}$(".SNSearch-input").on("input",(function(t){let i=$(this).val(),o=$(".SNSearch-results");if(i.length<2)return void o.html('<p class="section-title empty">Start your search by typing your phrase</p>');let r=new Fuse(FuseSearchData,{shouldSort:!0,threshold:.1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,useExtendedSearch:!0,ignoreLocation:!0,keys:["text","keywords"]}).search(i);if(0===r.length)return void o.html('<p class="section-title empty">No results found, change your search phrase</p>');o.html("");let c=[],l=[],d=[];for(let t of r){let e=t.item;e.startIndex=e.text.toLowerCase().indexOf(i.toLowerCase()),e.endIndex=e.startIndex+i.length,"contentBlock"===e.type?c.push(e):"sectionHeader"===e.type?l.push(e):d.push(e)}if(d.length>0){let t=d;o.append(`<p class="section-title">Pages & Categories (${t.length})</p>`);let e=0;for(let n of t)if(o.append(`\n\t\t  <a href="${n.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(n.text,n.startIndex,n.endIndex)}</p>\n\t\t\t<p class="section-result-text">${n.category}</p>\n\t\t  </div>\n\t\t  </a>`),++e>5)break}if(l.length>0){o.append(`<p class="section-title">Content sections (${l.length})</p>`);let t=0;for(let e of l)if(o.append(`\n\t\t  <a href="${e.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(e.text,e.startIndex,e.endIndex)}</p>\n\t\t\t<p class="section-result-text">On page ${e.category}</p>\n\t\t  </div>\n\t\t  </a>`),++t>5)break}if(c.length>0){o.append(`<p class="section-title">Content (${c.length})</p>`);let t=0;for(let e of c)if(o.append(`\n\t\t  <a href="${e.url}" class="sn-search-result-link">\n\t\t  <div class="result">\n\t\t\t<p class="section-result-header">${a(e.text,e.startIndex,e.endIndex)}</p>\n\t\t\t<p class="section-result-text">On page ${e.category}</p>\n\t\t  </div>\n\t\t  </a>`),++t>20)break}$(".sn-search-result-link").on("click",(function(t){e()})),n=0,s()})),hotkeys.filter=function(t){return!0},hotkeys("cmd+k,ctrl+k,esc, up, down, enter, return",(function(a,i){switch(i.key){case"esc":o=a,$(".SNSearch-input").val().length>0?$(".SNSearch-input").val(""):$(".SNSearch").removeClass("active"),o.preventDefault();break;case"cmd+k":case"ctrl+k":t(a);break;case"up":!function(t){$(".SNSearch").is(".active")&&(t.preventDefault(),n>0&&n--,s())}(a);break;case"down":!function(t){$(".SNSearch").is(".active")&&(t.preventDefault(),n<$(".sn-search-result-link").length-1&&n++,s())}(a);break;case"enter":case"return":!function(t){if(!$(".SNSearch").is(".active"))return;t.preventDefault();const s=$(`.sn-search-result-link:eq(${n})`);if(s){const t=s.attr("href");t&&(window.location.href=t,e())}}(a)}var o}))},"./assets/js/syncscroll.js":function(t,e){var n,s,a;s=[e],n=function(t){var e="Width",n="Height",s="Top",a="Left",i="scroll",o="client",r="EventListener",c="add"+r,l="length",d=Math.round,u={},p=function(){var t,p,h,f,g,v=document.getElementsByClassName("sync"+i);for(g in u)if(u.hasOwnProperty(g))for(t=0;t<u[g][l];t++)u[g][t]["remove"+r](i,u[g][t].syn,0);for(t=0;t<v[l];)if(f=p=0,g=(h=v[t++]).getAttribute("name")){for(h=h[i+"er"]||h;p<(u[g]=u[g]||[])[l];)f|=u[g][p++]==h;f||u[g].push(h),h.eX=h.eY=0,function(t,r){t[c](i,t.syn=function(){var c,p=u[r],h=t[i+a],f=t[i+s],g=h/(t[i+e]-t[o+e]),v=f/(t[i+n]-t[o+n]),$=h!=t.eX,m=f!=t.eY,x=0;for(t.eX=h,t.eY=f;x<p[l];)(c=p[x++])!=t&&($&&d(c[i+a]-(h=c.eX=d(g*(c[i+e]-c[o+e]))))&&(c[i+a]=h),m&&d(c[i+s]-(f=c.eY=d(v*(c[i+n]-c[o+n]))))&&(c[i+s]=f))},0)}(h,g)}};"complete"==document.readyState?p():window[c]("load",p,0),t.reset=p},void 0===(a="function"==typeof n?n.apply(e,s):n)||(t.exports=a)},"./assets/js/toast.js":()=>{$.extend({toast:function(t){if(!$("#toast-div").length){var e=t.title,n=t.duration||2e3,s=t.width||"auto",a=t.height||"16px",i=t.position||"",o=t.backgroundColor||"rgba(0, 0, 0, .7)",r=t.textColor||"#fff";if("bottom"==i?i="bottom: 48px;":"middle"==i?i="top: calc(45% - 15px);":"top"==i?i="top: 0px;":""===i&&(i="top: 80%;"),t.flag||!0)var c="<div id='toast-div' style='position: fixed;display: none; z-index:999;font-size: 18px; "+i+";left: 0;width:100%; height: "+a+"; text-align: center'>";else c="<div id='toast-div' style='position: fixed; display: none;z-index:999; font-size: 14px; font-weight: 500; top: 0; left: 0;width:100%; height:100%; text-align: center'>";c+='<div id="toast-content" style="display: inline-block; width: '+s+";min-height: "+a+";padding: 8px;background-color: "+o+";text-align: center;font-size: 14px; font-weight: 500;line-height: "+(t.lineheight||a)+";border-radius: 4px;color: "+r+';">'+e+"</div>",c+="</div>",$("body").append(c),$("#toast-div").fadeIn(200),setTimeout((function(){$("#toast-div").fadeOut(200)}),n),setTimeout((function(){$("#toast-div").remove()}),n+300)}}})},"./scss/main.scss":(t,e,n)=>{"use strict";n.r(e)}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n("./assets/js/toast.js"),n("./assets/js/syncscroll.js"),n("./assets/js/search.js");n("./scss/main.scss")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R21HLEVBQVcsSUF2RGQsQ0F3REYsRyxxREMzREVhLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYXJELFFBR3JCLElBQUl1RCxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRHBELFFBQVMsQ0FBQyxHQU9YLE9BSEF3RCxFQUFvQkosR0FBVUssS0FBS0YsRUFBT3ZELFFBQVN1RCxFQUFRQSxFQUFPdkQsUUFBU21ELEdBR3BFSSxFQUFPdkQsT0FDZixDQ3JCQW1ELEVBQW9CTyxFQUFLMUQsSUFDSCxvQkFBWDJELFFBQTBCQSxPQUFPQyxhQUMxQ0MsT0FBT0MsZUFBZTlELEVBQVMyRCxPQUFPQyxZQUFhLENBQUVHLE1BQU8sV0FFN0RGLE9BQU9DLGVBQWU5RCxFQUFTLGFBQWMsQ0FBRStELE9BQU8sR0FBTyxFQ0g5RFosRUFBb0Isd0JBRXBCQSxFQUFvQiw2QkFDcEJBLEVBQW9CLHlCQUNNQSxFQUFvQixtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NuLWV4cG9ydC1jb21waWxlLy4vYXNzZXRzL2pzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly9zbi1leHBvcnQtY29tcGlsZS8uL2Fzc2V0cy9qcy9zeW5jc2Nyb2xsLmpzIiwid2VicGFjazovL3NuLWV4cG9ydC1jb21waWxlLy4vYXNzZXRzL2pzL3RvYXN0LmpzIiwid2VicGFjazovL3NuLWV4cG9ydC1jb21waWxlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NuLWV4cG9ydC1jb21waWxlL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vc24tZXhwb3J0LWNvbXBpbGUvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBTZWFyY2ggLSBJbnRlcmZhY2UgbWFuaXB1bGF0aW9uXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiQoJy5zZWFyY2gnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgc2hvd1NlYXJjaCgpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn0pO1xuXG4kKCcuU05TZWFyY2gnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgaGlkZUlmU2hvd25TZWFyY2goKTtcbn0pO1xuXG4kKCcuU05TZWFyY2gtYm94Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59KTtcblxuZnVuY3Rpb24gc2hvd1NlYXJjaChlKSB7XG4gICAgLy8gU2hvdyB0aGUgc2VhcmNoIHZpZXcgYnkgcnVubmluZyBmYWRlLWluIG9mIHRoZSB2aWV3XG4gICAgJCgnLlNOU2VhcmNoJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGlmICgkKCcuU05TZWFyY2gnKS5pcygnLmFjdGl2ZScpKSB7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgcmVzdWx0c1xuICAgICAgICAkKCcuU05TZWFyY2gtaW5wdXQnKS52YWwoJycpO1xuICAgICAgICAkKCcuU05TZWFyY2gtaW5wdXQnKS5mb2N1cygpO1xuICAgICAgICAkKCcuU05TZWFyY2gtcmVzdWx0cycpLmh0bWwoXG4gICAgICAgICAgICBgPHAgY2xhc3M9XCJzZWN0aW9uLXRpdGxlIGVtcHR5XCI+U3RhcnQgeW91ciBzZWFyY2ggYnkgdHlwaW5nIHlvdXIgcGhyYXNlPC9wPmBcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBoaWRlT3JDbGVhclNlYXJjaChlKSB7XG4gICAgLy8gSGlkZSB0aGUgc2VhcmNoIHZpZXcgYnkgcnVubmluZyBmYWRlLW91dCBvZiB0aGUgdmlldyBvciBjbGVhciBpbnB1dCBpZiBub3QgZW1wdHlcbiAgICBpZiAoJCgnLlNOU2VhcmNoLWlucHV0JykudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcuU05TZWFyY2gtaW5wdXQnKS52YWwoJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5TTlNlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBoaWRlSWZTaG93blNlYXJjaCgpIHtcbiAgICBpZiAoJCgnLlNOU2VhcmNoJykuaXMoJy5hY3RpdmUnKSkge1xuICAgICAgICAkKCcuU05TZWFyY2gnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxufVxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25zdGFydCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5hbmltYXRpb25OYW1lID09PSAnZmFkZS1pbicpIHtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnZGlkLWZhZGUtaW4nKTtcbiAgICB9XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLmFuaW1hdGlvbk5hbWUgPT09ICdmYWRlLW91dCcpIHtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnZGlkLWZhZGUtaW4nKTtcbiAgICB9XG59KTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFNlYXJjaCAtIFJlc3VsdHMgYW5kIHByb2Nlc3Npbmdcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxubGV0IGFjdGl2ZVNlYXJjaFJlc3VsdHMgPSBbXTtcbmxldCBhY3RpdmVTZWFyY2hJbmRleCA9IDA7XG5cbiQoJy5TTlNlYXJjaC1pbnB1dCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBsZXQgc2VhcmNoU3RyaW5nID0gJCh0aGlzKS52YWwoKTtcbiAgICBsZXQgcmVzdWx0T2JqZWN0ID0gJCgnLlNOU2VhcmNoLXJlc3VsdHMnKTtcblxuICAgIC8vIERvbid0IHNlYXJjaCBmb3Igc21hbGwgc3RyaW5nc1xuICAgIGlmIChzZWFyY2hTdHJpbmcubGVuZ3RoIDwgMikge1xuICAgICAgICByZXN1bHRPYmplY3QuaHRtbChcbiAgICAgICAgICAgIGA8cCBjbGFzcz1cInNlY3Rpb24tdGl0bGUgZW1wdHlcIj5TdGFydCB5b3VyIHNlYXJjaCBieSB0eXBpbmcgeW91ciBwaHJhc2U8L3A+YFxuICAgICAgICApO1xuICAgICAgICAvLyBObyByZXN1bHRzXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgc2VhcmNoLiBOb3RlIHRoYXQgdGhpcyBjYW4gYmUgY2hhbmdlZCBzbyB0aGUgc2VhcmNoIHJldHVybnMgZnV6enkgcmVzdWx0c1xuICAgIC8vIGJ5IGNoYW5naW5nIHRoZSB0cmFzaG9sZCwgZGlzdGFuY2UgKHNlZSBleGFtcGxlID4gaHR0cHM6Ly9mdXNlanMuaW8vZGVtby5odG1sKVxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzaG91bGRTb3J0OiB0cnVlLFxuICAgICAgICB0aHJlc2hvbGQ6IDAuMSxcbiAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgIGRpc3RhbmNlOiAxMDAsXG4gICAgICAgIG1heFBhdHRlcm5MZW5ndGg6IDMyLFxuICAgICAgICBtaW5NYXRjaENoYXJMZW5ndGg6IDEsXG4gICAgICAgIHVzZUV4dGVuZGVkU2VhcmNoOiB0cnVlLFxuICAgICAgICBpZ25vcmVMb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAga2V5czogWyd0ZXh0Jywna2V5d29yZHMnXVxuICAgIH07XG5cbiAgICAvLyBOb3RlOiBGdXNlU2VhcmNoRGF0YSBpcyBpbmRleCBjcmVhdGVkIGJ5IHRoZSBleHBvcnRlciwgbG9hZGVkIGZyb20gc2kuanNcbiAgICBjb25zdCBmdXNlID0gbmV3IEZ1c2UoRnVzZVNlYXJjaERhdGEsIG9wdGlvbnMpO1xuICAgIGxldCBzZWFyY2hSZXN1bHQgPSBmdXNlLnNlYXJjaChzZWFyY2hTdHJpbmcpO1xuXG4gICAgaWYgKHNlYXJjaFJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gTm8gcmVzdWx0IGZvdW5kXG4gICAgICAgIHJlc3VsdE9iamVjdC5odG1sKFxuICAgICAgICAgICAgYDxwIGNsYXNzPVwic2VjdGlvbi10aXRsZSBlbXB0eVwiPk5vIHJlc3VsdHMgZm91bmQsIGNoYW5nZSB5b3VyIHNlYXJjaCBwaHJhc2U8L3A+YFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc2VhcmNoXG4gICAgcmVzdWx0T2JqZWN0Lmh0bWwoJycpO1xuXG4gICAgLy8gUHJlcGFyZSBkYXRhXG4gICAgbGV0IGNvbnRlbnRSZXN1bHRzID0gW107XG4gICAgbGV0IHNlY3Rpb25SZXN1bHRzID0gW107XG4gICAgbGV0IHBhZ2VSZXN1bHRzID0gW107XG5cbiAgICBmb3IgKGxldCByZXN1bHQgb2Ygc2VhcmNoUmVzdWx0KSB7XG4gICAgICAgIGxldCBpdGVtID0gcmVzdWx0Lml0ZW07XG4gICAgICAgIGl0ZW0uc3RhcnRJbmRleCA9IGl0ZW0udGV4dFxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5pbmRleE9mKHNlYXJjaFN0cmluZy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaXRlbS5lbmRJbmRleCA9IGl0ZW0uc3RhcnRJbmRleCArIHNlYXJjaFN0cmluZy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2NvbnRlbnRCbG9jaycpIHtcbiAgICAgICAgICAgIGNvbnRlbnRSZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09PSAnc2VjdGlvbkhlYWRlcicpIHtcbiAgICAgICAgICAgIHNlY3Rpb25SZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlUmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIHBhZ2VzXG4gICAgaWYgKHBhZ2VSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBwYWdlUmVzdWx0cztcbiAgICAgICAgcmVzdWx0T2JqZWN0LmFwcGVuZChcbiAgICAgICAgICAgIGA8cCBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5QYWdlcyAmIENhdGVnb3JpZXMgKCR7cmVzdWx0cy5sZW5ndGh9KTwvcD5gXG4gICAgICAgICk7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICByZXN1bHRPYmplY3QuYXBwZW5kKGBcblx0XHQgIDxhIGhyZWY9XCIke3Jlc3VsdC51cmx9XCIgY2xhc3M9XCJzbi1zZWFyY2gtcmVzdWx0LWxpbmtcIj5cblx0XHQgIDxkaXYgY2xhc3M9XCJyZXN1bHRcIj5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtaGVhZGVyXCI+JHtoaWdobGlnaHRSYW5nZXMoXG4gICAgICAgIHJlc3VsdC50ZXh0LFxuICAgICAgICByZXN1bHQuc3RhcnRJbmRleCxcbiAgICAgICAgcmVzdWx0LmVuZEluZGV4XG4gICAgICApfTwvcD5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtdGV4dFwiPiR7cmVzdWx0LmNhdGVnb3J5fTwvcD5cblx0XHQgIDwvZGl2PlxuXHRcdCAgPC9hPmApO1xuICAgICAgICAgICAgLy8gQWxsb3cgdXAgdG8gNSByZXN1bHRzIHRvIGJlIHNob3duXG4gICAgICAgICAgICBpZiAoKytjb3VudCA+IDUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCByZXN1bHRzIG1hdGNoaW5nIHRpdGxlcyBmaXJzdCwgdGhlbiB0ZXh0IGJsb2NrIHJlc3VsdHNcbiAgICBpZiAoc2VjdGlvblJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXN1bHRPYmplY3QuYXBwZW5kKFxuICAgICAgICAgICAgYDxwIGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPkNvbnRlbnQgc2VjdGlvbnMgKCR7c2VjdGlvblJlc3VsdHMubGVuZ3RofSk8L3A+YFxuICAgICAgICApO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCByZXN1bHQgb2Ygc2VjdGlvblJlc3VsdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdC5hcHBlbmQoYFxuXHRcdCAgPGEgaHJlZj1cIiR7cmVzdWx0LnVybH1cIiBjbGFzcz1cInNuLXNlYXJjaC1yZXN1bHQtbGlua1wiPlxuXHRcdCAgPGRpdiBjbGFzcz1cInJlc3VsdFwiPlxuXHRcdFx0PHAgY2xhc3M9XCJzZWN0aW9uLXJlc3VsdC1oZWFkZXJcIj4ke2hpZ2hsaWdodFJhbmdlcyhcbiAgICAgICAgcmVzdWx0LnRleHQsXG4gICAgICAgIHJlc3VsdC5zdGFydEluZGV4LFxuICAgICAgICByZXN1bHQuZW5kSW5kZXhcbiAgICAgICl9PC9wPlxuXHRcdFx0PHAgY2xhc3M9XCJzZWN0aW9uLXJlc3VsdC10ZXh0XCI+T24gcGFnZSAke3Jlc3VsdC5jYXRlZ29yeX08L3A+XG5cdFx0ICA8L2Rpdj5cblx0XHQgIDwvYT5gKTtcbiAgICAgICAgICAgIC8vIEFsbG93IHVwIHRvIDUgcmVzdWx0cyB0byBiZSBzaG93blxuICAgICAgICAgICAgaWYgKCsrY291bnQgPiA1KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgdGV4dCBibG9jayByZXN1bHRzXG4gICAgaWYgKGNvbnRlbnRSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0T2JqZWN0LmFwcGVuZChcbiAgICAgICAgICAgIGA8cCBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5Db250ZW50ICgke2NvbnRlbnRSZXN1bHRzLmxlbmd0aH0pPC9wPmBcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yIChsZXQgcmVzdWx0IG9mIGNvbnRlbnRSZXN1bHRzKSB7XG4gICAgICAgICAgICByZXN1bHRPYmplY3QuYXBwZW5kKGBcblx0XHQgIDxhIGhyZWY9XCIke3Jlc3VsdC51cmx9XCIgY2xhc3M9XCJzbi1zZWFyY2gtcmVzdWx0LWxpbmtcIj5cblx0XHQgIDxkaXYgY2xhc3M9XCJyZXN1bHRcIj5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtaGVhZGVyXCI+JHtoaWdobGlnaHRSYW5nZXMoXG4gICAgICAgIHJlc3VsdC50ZXh0LFxuICAgICAgICByZXN1bHQuc3RhcnRJbmRleCxcbiAgICAgICAgcmVzdWx0LmVuZEluZGV4XG4gICAgICApfTwvcD5cblx0XHRcdDxwIGNsYXNzPVwic2VjdGlvbi1yZXN1bHQtdGV4dFwiPk9uIHBhZ2UgJHtyZXN1bHQuY2F0ZWdvcnl9PC9wPlxuXHRcdCAgPC9kaXY+XG5cdFx0ICA8L2E+YCk7XG4gICAgICAgICAgICAvLyBBbGxvdyB1cCB0byAyMCByZXN1bHRzIHRvIGJlIHNob3duXG4gICAgICAgICAgICBpZiAoKytjb3VudCA+IDIwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkKCcuc24tc2VhcmNoLXJlc3VsdC1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBoaWRlSWZTaG93blNlYXJjaCgpO1xuICAgIH0pO1xuXG4gICAgcmVzZXRBY3RpdmVTZWFyY2hJbmRleCgpO1xuICAgIHVwZGF0ZUFjdGl2ZVNlYXJjaEluZGV4KCk7XG59KTtcblxuZnVuY3Rpb24gcmVzZXRBY3RpdmVTZWFyY2hJbmRleCgpIHtcbiAgICBhY3RpdmVTZWFyY2hJbmRleCA9IDA7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZVNlYXJjaEluZGV4KCkge1xuICAgICQoJy5zbi1zZWFyY2gtcmVzdWx0LWxpbmsnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICBjb25zdCBhY3RpdmVSZXN1bHQgPSAkKGAuc24tc2VhcmNoLXJlc3VsdC1saW5rOmVxKCR7YWN0aXZlU2VhcmNoSW5kZXh9KWApO1xuICAgIGlmIChhY3RpdmVSZXN1bHQpIHtcbiAgICAgICAgYWN0aXZlUmVzdWx0LmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICBzY3JvbGxJbnRvVmlld0lmTmVlZGVkKGFjdGl2ZVJlc3VsdFswXSwgYWN0aXZlUmVzdWx0LnBhcmVudCgpWzBdKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHByZXZpb3VzU2VhcmNoUmVzdWx0KGV2ZW50KSB7XG4gICAgaWYgKCEkKCcuU05TZWFyY2gnKS5pcygnLmFjdGl2ZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoYWN0aXZlU2VhcmNoSW5kZXggPiAwKSB7XG4gICAgICAgIGFjdGl2ZVNlYXJjaEluZGV4LS07XG4gICAgfVxuICAgIHVwZGF0ZUFjdGl2ZVNlYXJjaEluZGV4KCk7XG59XG5cbmZ1bmN0aW9uIG5leHRTZWFyY2hSZXN1bHQoZXZlbnQpIHtcbiAgICBpZiAoISQoJy5TTlNlYXJjaCcpLmlzKCcuYWN0aXZlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChhY3RpdmVTZWFyY2hJbmRleCA8ICQoJy5zbi1zZWFyY2gtcmVzdWx0LWxpbmsnKS5sZW5ndGggLSAxKSB7XG4gICAgICAgIGFjdGl2ZVNlYXJjaEluZGV4Kys7XG4gICAgfVxuICAgIHVwZGF0ZUFjdGl2ZVNlYXJjaEluZGV4KCk7XG59XG5cbmZ1bmN0aW9uIGFjdGl2YXRlQ3VycmVudFNlYXJjaFJlc3VsdChldmVudCkge1xuICAgIGlmICghJCgnLlNOU2VhcmNoJykuaXMoJy5hY3RpdmUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgbGluayA9ICQoYC5zbi1zZWFyY2gtcmVzdWx0LWxpbms6ZXEoJHthY3RpdmVTZWFyY2hJbmRleH0pYCk7XG4gICAgaWYgKGxpbmspIHtcbiAgICAgICAgY29uc3QgaHJlZiA9IGxpbmsuYXR0cignaHJlZicpO1xuICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICAgICAgaGlkZUlmU2hvd25TZWFyY2goKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGlnaGxpZ2h0UmFuZ2VzKHMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGxldCBiZWdpbm5pbmcgPSBzLnN1YnN0cmluZygwLCBzdGFydEluZGV4KTtcbiAgICBsZXQgc2VhcmNoUmVzdWx0ID0gcy5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIGxldCBlbmQgPSBzLnN1YnN0cmluZyhlbmRJbmRleCk7XG5cbiAgICByZXR1cm4gYCR7YmVnaW5uaW5nfTxzcGFuPiR7c2VhcmNoUmVzdWx0fTwvc3Bhbj4ke2VuZH1gO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlUmFuZ2Uocywgc3RhcnQsIGVuZCwgc3Vic3RpdHV0ZSkge1xuICAgIHJldHVybiBzLnN1YnN0cmluZygwLCBzdGFydCkgKyBzdWJzdGl0dXRlICsgcy5zdWJzdHJpbmcoZW5kKTtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCh0YXJnZXQsIHBhcmVudCkge1xuICAgIGxldCByZWN0RWxlbSA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgcmVjdENvbnRhaW5lciA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAocmVjdEVsZW0uYm90dG9tID4gcmVjdENvbnRhaW5lci5ib3R0b20pIHRhcmdldC5zY3JvbGxJbnRvVmlldyhmYWxzZSk7XG4gICAgaWYgKHJlY3RFbGVtLnRvcCA8IHJlY3RDb250YWluZXIudG9wKSB0YXJnZXQuc2Nyb2xsSW50b1ZpZXcoKTtcbn1cblxuaG90a2V5cy5maWx0ZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIEhvdGtleXNcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuaG90a2V5cygnY21kK2ssY3RybCtrLGVzYywgdXAsIGRvd24sIGVudGVyLCByZXR1cm4nLCBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xuICAgIHN3aXRjaCAoaGFuZGxlci5rZXkpIHtcbiAgICAgICAgY2FzZSAnZXNjJzpcbiAgICAgICAgICAgIGhpZGVPckNsZWFyU2VhcmNoKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbWQrayc6XG4gICAgICAgIGNhc2UgJ2N0cmwrayc6XG4gICAgICAgICAgICBzaG93U2VhcmNoKGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgICBwcmV2aW91c1NlYXJjaFJlc3VsdChldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICBuZXh0U2VhcmNoUmVzdWx0KGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbnRlcic6XG4gICAgICAgIGNhc2UgJ3JldHVybic6XG4gICAgICAgICAgICBhY3RpdmF0ZUN1cnJlbnRTZWFyY2hSZXN1bHQoZXZlbnQpO1xuICAgIH1cbn0pOyIsIi8qKlxuICogQGZpbGVvdmVydmlldyBzeW5jc2Nyb2xsIC0gc2Nyb2xsIHNldmVyYWwgYXJlYXMgc2ltdWx0YW5pb3VzbHlcbiAqIEB2ZXJzaW9uIDAuMC4zXG4gKiBcbiAqIEBsaWNlbnNlIE1JVCwgc2VlIGh0dHA6Ly9naXRodWIuY29tL2FzdmQvaW50ZW5jZVxuICogQGNvcHlyaWdodCAyMDE1IGFzdmQgPGhlbGlvc2ZyYW1ld29ya0BnbWFpbC5jb20+IFxuICovXG5cbiAoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWN0b3J5KChyb290LnN5bmNzY3JvbGwgPSB7fSkpO1xuICAgIH1cbn0odGhpcyxmdW5jdGlvbiAoZXhwb3J0cykge1xuICAgIHZhciBXaWR0aCA9ICdXaWR0aCc7XG4gICAgdmFyIEhlaWdodCA9ICdIZWlnaHQnO1xuICAgIHZhciBUb3AgPSAnVG9wJztcbiAgICB2YXIgTGVmdCA9ICdMZWZ0JztcbiAgICB2YXIgc2Nyb2xsID0gJ3Njcm9sbCc7XG4gICAgdmFyIGNsaWVudCA9ICdjbGllbnQnO1xuICAgIHZhciBFdmVudExpc3RlbmVyID0gJ0V2ZW50TGlzdGVuZXInO1xuICAgIHZhciBhZGRFdmVudExpc3RlbmVyID0gJ2FkZCcgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciBsZW5ndGggPSAnbGVuZ3RoJztcbiAgICB2YXIgTWF0aF9yb3VuZCA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgbmFtZXMgPSB7fTtcblxuICAgIHZhciByZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzeW5jJytzY3JvbGwpO1xuXG4gICAgICAgIC8vIGNsZWFyaW5nIGV4aXN0aW5nIGxpc3RlbmVyc1xuICAgICAgICB2YXIgaSwgaiwgZWwsIGZvdW5kLCBuYW1lO1xuICAgICAgICBmb3IgKG5hbWUgaW4gbmFtZXMpIHtcbiAgICAgICAgICAgIGlmIChuYW1lcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuYW1lc1tuYW1lXVtsZW5ndGhdOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNbbmFtZV1baV1bJ3JlbW92ZScrRXZlbnRMaXN0ZW5lcl0oXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGwsIG5hbWVzW25hbWVdW2ldLnN5biwgMFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldHRpbmctdXAgdGhlIG5ldyBsaXN0ZW5lcnNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVsZW1zW2xlbmd0aF07KSB7XG4gICAgICAgICAgICBmb3VuZCA9IGogPSAwO1xuICAgICAgICAgICAgZWwgPSBlbGVtc1tpKytdO1xuICAgICAgICAgICAgaWYgKCEobmFtZSA9IGVsLmdldEF0dHJpYnV0ZSgnbmFtZScpKSkge1xuICAgICAgICAgICAgICAgIC8vIG5hbWUgYXR0cmlidXRlIGlzIG5vdCBzZXRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwgPSBlbFtzY3JvbGwrJ2VyJ118fGVsOyAgLy8gbmVlZGVkIGZvciBpbnRlbmNlXG5cbiAgICAgICAgICAgIC8vIHNlYXJjaGluZyBmb3IgZXhpc3RpbmcgZW50cnkgaW4gYXJyYXkgb2YgbmFtZXM7XG4gICAgICAgICAgICAvLyBzZWFyY2hpbmcgZm9yIHRoZSBlbGVtZW50IGluIHRoYXQgZW50cnlcbiAgICAgICAgICAgIGZvciAoO2ogPCAobmFtZXNbbmFtZV0gPSBuYW1lc1tuYW1lXXx8W10pW2xlbmd0aF07KSB7XG4gICAgICAgICAgICAgICAgZm91bmQgfD0gbmFtZXNbbmFtZV1baisrXSA9PSBlbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIG5hbWVzW25hbWVdLnB1c2goZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbC5lWCA9IGVsLmVZID0gMDtcblxuICAgICAgICAgICAgKGZ1bmN0aW9uKGVsLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgZWxbYWRkRXZlbnRMaXN0ZW5lcl0oXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgZWwuc3luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBuYW1lc1tuYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFggPSBlbFtzY3JvbGwrTGVmdF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsWSA9IGVsW3Njcm9sbCtUb3BdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeFJhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFggL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbFtzY3JvbGwrV2lkdGhdIC0gZWxbY2xpZW50K1dpZHRoXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeVJhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlbFtzY3JvbGwrSGVpZ2h0XSAtIGVsW2NsaWVudCtIZWlnaHRdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVggPSBzY3JvbGxYICE9IGVsLmVYO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVkgPSBzY3JvbGxZICE9IGVsLmVZO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJFbCwgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmVYID0gc2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmVZID0gc2Nyb2xsWTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7aSA8IGVsZW1zW2xlbmd0aF07KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbCA9IGVsZW1zW2krK107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyRWwgIT0gZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGhfcm91bmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtzY3JvbGwrTGVmdF0gLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxYID0gb3RoZXJFbC5lWCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGhfcm91bmQoeFJhdGUgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG90aGVyRWxbc2Nyb2xsK1dpZHRoXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtjbGllbnQrV2lkdGhdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtzY3JvbGwrTGVmdF0gPSBzY3JvbGxYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlWSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aF9yb3VuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckVsW3Njcm9sbCtUb3BdIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc2Nyb2xsWSA9IG90aGVyRWwuZVkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoX3JvdW5kKHlSYXRlICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvdGhlckVsW3Njcm9sbCtIZWlnaHRdIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckVsW2NsaWVudCtIZWlnaHRdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJFbFtzY3JvbGwrVG9wXSA9IHNjcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSkoZWwsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgICAgIFxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xuICAgICAgICByZXNldCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvd1thZGRFdmVudExpc3RlbmVyXShcImxvYWRcIiwgcmVzZXQsIDApO1xuICAgIH1cblxuICAgIGV4cG9ydHMucmVzZXQgPSByZXNldDtcbn0pKTtcblxuIiwiJC5leHRlbmQoe1xuICB0b2FzdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCQoJyN0b2FzdC1kaXYnKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGl0bGUgPSBvYmoudGl0bGU7XG4gICAgdmFyIHNob3dUaW1lID0gb2JqLmR1cmF0aW9uIHx8IDIwMDA7XG4gICAgdmFyIHdpZHRoID0gb2JqLndpZHRoIHx8ICdhdXRvJztcbiAgICB2YXIgaGVpZ2h0ID0gb2JqLmhlaWdodCB8fCAnMTZweCc7XG4gICAgdmFyIHBvc2l0aW9uID0gb2JqLnBvc2l0aW9uIHx8ICcnO1xuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSBvYmouYmFja2dyb3VuZENvbG9yIHx8ICdyZ2JhKDAsIDAsIDAsIC43KSc7XG4gICAgdmFyIHRleHRDb2xvciA9IG9iai50ZXh0Q29sb3IgfHwgJyNmZmYnO1xuICAgIHZhciBmbGFnID0gb2JqLmZsYWcgfHwgdHJ1ZTtcbiAgICB2YXIgbGluZWhlaWdodCA9IG9iai5saW5laGVpZ2h0IHx8IGhlaWdodDtcblxuICAgIGlmIChwb3NpdGlvbiA9PSAnYm90dG9tJykge1xuICAgICAgcG9zaXRpb24gPSAnYm90dG9tOiA0OHB4Oyc7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PSAnbWlkZGxlJykge1xuICAgICAgcG9zaXRpb24gPSAndG9wOiBjYWxjKDQ1JSAtIDE1cHgpOyc7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PSAndG9wJykge1xuICAgICAgcG9zaXRpb24gPSAndG9wOiAwcHg7JztcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnJykge1xuICAgICAgcG9zaXRpb24gPSAndG9wOiA4MCU7JztcbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgICBpZiAoZmxhZykge1xuICAgICAgdmFyIGNvbnRlbnQgPVxuICAgICAgICBcIjxkaXYgaWQ9J3RvYXN0LWRpdicgc3R5bGU9J3Bvc2l0aW9uOiBmaXhlZDtkaXNwbGF5OiBub25lOyB6LWluZGV4Ojk5OTtmb250LXNpemU6IDE4cHg7IFwiICtcbiAgICAgICAgcG9zaXRpb24gK1xuICAgICAgICAnO2xlZnQ6IDA7d2lkdGg6MTAwJTsgaGVpZ2h0OiAnICtcbiAgICAgICAgaGVpZ2h0ICtcbiAgICAgICAgXCI7IHRleHQtYWxpZ246IGNlbnRlcic+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZW50ID1cbiAgICAgICAgXCI8ZGl2IGlkPSd0b2FzdC1kaXYnIHN0eWxlPSdwb3NpdGlvbjogZml4ZWQ7IGRpc3BsYXk6IG5vbmU7ei1pbmRleDo5OTk7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDUwMDsgdG9wOiAwOyBsZWZ0OiAwO3dpZHRoOjEwMCU7IGhlaWdodDoxMDAlOyB0ZXh0LWFsaWduOiBjZW50ZXInPlwiO1xuICAgIH1cbiAgICBjb250ZW50ICs9XG4gICAgICAnPGRpdiBpZD1cInRvYXN0LWNvbnRlbnRcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6ICcgK1xuICAgICAgd2lkdGggK1xuICAgICAgJzttaW4taGVpZ2h0OiAnICtcbiAgICAgIGhlaWdodCArXG4gICAgICAnO3BhZGRpbmc6IDhweDtiYWNrZ3JvdW5kLWNvbG9yOiAnICtcbiAgICAgIGJhY2tncm91bmRDb2xvciArXG4gICAgICAnO3RleHQtYWxpZ246IGNlbnRlcjtmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiA1MDA7bGluZS1oZWlnaHQ6ICcgK1xuICAgICAgbGluZWhlaWdodCArXG4gICAgICAnO2JvcmRlci1yYWRpdXM6IDRweDtjb2xvcjogJyArXG4gICAgICB0ZXh0Q29sb3IgK1xuICAgICAgJztcIj4nICtcbiAgICAgIHRpdGxlICtcbiAgICAgICc8L2Rpdj4nO1xuICAgIGNvbnRlbnQgKz0gJzwvZGl2Pic7XG4gICAgJCgnYm9keScpLmFwcGVuZChjb250ZW50KTtcbiAgICAkKCcjdG9hc3QtZGl2JykuZmFkZUluKDIwMCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICQoJyN0b2FzdC1kaXYnKS5mYWRlT3V0KDIwMCk7XG4gICAgfSwgc2hvd1RpbWUpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkKCcjdG9hc3QtZGl2JykucmVtb3ZlKCk7XG4gICAgfSwgc2hvd1RpbWUgKyAzMDApO1xuICB9XG59KTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18oXCIuL2Fzc2V0cy9qcy90b2FzdC5qc1wiKTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9hc3NldHMvanMvc3luY3Njcm9sbC5qc1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18oXCIuL2Fzc2V0cy9qcy9zZWFyY2guanNcIik7XG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL3Njc3MvbWFpbi5zY3NzXCIpO1xuIl0sIm5hbWVzIjpbInNob3dTZWFyY2giLCJlIiwiJCIsInRvZ2dsZUNsYXNzIiwiaXMiLCJ2YWwiLCJmb2N1cyIsImh0bWwiLCJwcmV2ZW50RGVmYXVsdCIsImhpZGVJZlNob3duU2VhcmNoIiwicmVtb3ZlQ2xhc3MiLCJvbiIsInN0b3BQcm9wYWdhdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFuaW1hdGlvbk5hbWUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJhY3RpdmVTZWFyY2hJbmRleCIsInVwZGF0ZUFjdGl2ZVNlYXJjaEluZGV4IiwiYWN0aXZlUmVzdWx0IiwiYWRkQ2xhc3MiLCJwYXJlbnQiLCJyZWN0RWxlbSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3RDb250YWluZXIiLCJib3R0b20iLCJzY3JvbGxJbnRvVmlldyIsInRvcCIsInNjcm9sbEludG9WaWV3SWZOZWVkZWQiLCJoaWdobGlnaHRSYW5nZXMiLCJzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic3Vic3RyaW5nIiwic2VhcmNoU3RyaW5nIiwidGhpcyIsInJlc3VsdE9iamVjdCIsImxlbmd0aCIsInNlYXJjaFJlc3VsdCIsIkZ1c2UiLCJGdXNlU2VhcmNoRGF0YSIsInNob3VsZFNvcnQiLCJ0aHJlc2hvbGQiLCJsb2NhdGlvbiIsImRpc3RhbmNlIiwibWF4UGF0dGVybkxlbmd0aCIsIm1pbk1hdGNoQ2hhckxlbmd0aCIsInVzZUV4dGVuZGVkU2VhcmNoIiwiaWdub3JlTG9jYXRpb24iLCJrZXlzIiwic2VhcmNoIiwiY29udGVudFJlc3VsdHMiLCJzZWN0aW9uUmVzdWx0cyIsInBhZ2VSZXN1bHRzIiwicmVzdWx0IiwiaXRlbSIsInRleHQiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJ0eXBlIiwicHVzaCIsInJlc3VsdHMiLCJhcHBlbmQiLCJjb3VudCIsInVybCIsImNhdGVnb3J5IiwiaG90a2V5cyIsImZpbHRlciIsImV2ZW50IiwiaGFuZGxlciIsImtleSIsInByZXZpb3VzU2VhcmNoUmVzdWx0IiwibmV4dFNlYXJjaFJlc3VsdCIsImxpbmsiLCJocmVmIiwiYXR0ciIsIndpbmRvdyIsImFjdGl2YXRlQ3VycmVudFNlYXJjaFJlc3VsdCIsImV4cG9ydHMiLCJXaWR0aCIsIkhlaWdodCIsIlRvcCIsIkxlZnQiLCJzY3JvbGwiLCJjbGllbnQiLCJFdmVudExpc3RlbmVyIiwiTWF0aF9yb3VuZCIsIk1hdGgiLCJyb3VuZCIsIm5hbWVzIiwicmVzZXQiLCJpIiwiaiIsImVsIiwiZm91bmQiLCJuYW1lIiwiZWxlbXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaGFzT3duUHJvcGVydHkiLCJzeW4iLCJnZXRBdHRyaWJ1dGUiLCJlWCIsImVZIiwib3RoZXJFbCIsInNjcm9sbFgiLCJzY3JvbGxZIiwieFJhdGUiLCJ5UmF0ZSIsInVwZGF0ZVgiLCJ1cGRhdGVZIiwicmVhZHlTdGF0ZSIsImV4dGVuZCIsInRvYXN0Iiwib2JqIiwidGl0bGUiLCJzaG93VGltZSIsImR1cmF0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbiIsImJhY2tncm91bmRDb2xvciIsInRleHRDb2xvciIsImZsYWciLCJjb250ZW50IiwibGluZWhlaWdodCIsImZhZGVJbiIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==