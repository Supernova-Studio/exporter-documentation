{[ const item = context.item /]}
{[ const variant = context.variant /]}
{[ let configuration = exportConfiguration() /]}

{[ let typeClassname = "" /]}
{[ let icon = "icon_circle_check" /]}
{[ let imageAlt = "" /]}

{[ log item /]}

{[ switch item.type ]}
    {[ case "do" ]}
        {[ typeClassname = "guideline-item__type-do" /]}
    {[ case "dont" ]}
        {[ typeClassname = "guideline-item__type-dont" /]}
        {[ icon = "icon_circle_error" /]}
    {[ case "caution" ]}
        {[ typeClassname = "guideline-item__type-caution" /]}
        {[ icon = "icon_circle_warning" /]}
{[/]}
{[ if (item.asset && (item.imageAlt !== "")) ]}
   {[ imageAlt = item.imageAlt /]}
{[/]}

{[ if (item.asset && (item.imageAlt === "") && (item.imageCaption !== "")) ]}
   {[ imageAlt = item.imageCaption /]}
{[/]}

{[ if (variant === "prominent") ]}
    <div class="guideline-item {{typeClassname}}">
        {[ if (item.asset && (item.asset.url !== "")) ]}
        <div class="image">
            <img src="{{item.asset.url}}" alt="{{imageAlt}}" class="image-asset" />
            {[ if ((item.imageCaption !== "") && (item.imageCaption !== null)) ]}
            <div class="caption-container"><div class="caption">{{item.imageCaption}}</div></div>
            {[/]}
        </div>
        {[/]}

        <div class="content">
            <div class="type-badge">
                <span class="icon">{[ inject icon context configuration /]}</span>
                <span class="label">{{ item.type}}</span>
            </div>
            {{ withHTMLNewlines(item.description) }}
        </div>
    </div>
   
{[ elseif (variant === "side-border") ]}
    <div class="guideline-item {{typeClassname}}">
        <div class="type-badge type-badge__full">
            <span class="icon">{[ inject icon context configuration /]}</span>
            <span class="label">{{ item.type}}</span>
        </div>
        <div class="item-wrapper">
            <div class="side-border"></div>
            <div class="content-wrapper">
                {[ if (item.asset && (item.asset.url !== "")) ]}
                <div class="image">
                    <img src="{{item.asset.url}}" alt="{{imageAlt}}" class="image-asset" />                    
                    {[ if ((item.imageCaption !== "") && (item.imageCaption !== null)) ]}
                    <div class="caption-container"><div class="caption">{{item.imageCaption}}</div></div>
                    {[/]}
                </div>
                {[/]}

                <div class="content">
                    {{ withHTMLNewlines(item.description) }}
                </div>
            </div>
        </div>
    </div>
{[ elseif (variant === "contained") ]}
    <div class="guideline-item {{typeClassname}}">
        <div class="image">
            <div class="type-badge">
                <span class="icon">{[ inject icon context configuration /]}</span>
                <span class="label">{{ item.type}}</span>
            </div>
            {[ if (item.asset && (item.asset.url !== "")) ]}
            <img src="{{item.asset.url}}" alt="{{imageAlt}}" class="image-asset" />
            
            {[ if ((item.imageCaption !== "") && (item.imageCaption !== null)) ]}
                <div class="caption-container"><div class="caption">{{item.imageCaption}}</div></div>
            {[/]}

            {[/]}
        </div>

        <div class="content">
            {{ withHTMLNewlines(item.description) }}
        </div>
    </div>
{[ else ]}
     <div class="guideline-item {{typeClassname}}">
        <div class="type-badge type-badge__full">
            <span class="icon">{[ inject icon context configuration /]}</span>
            <span class="label">{{ item.type}}</span>
        </div>
        {[ if (item.asset && (item.asset.url !== "")) ]}
        <div class="image">
            <img src="{{item.asset.url}}" alt="{{imageAlt}}" class="image-asset" />
            {[ if ((item.imageCaption !== "") && (item.imageCaption !== null)) ]}
            <div class="caption-container"><div class="caption">{{item.imageCaption}}</div></div>
            {[/]}
        </div>
        {[/]}

        <div class="content">
            {{ withHTMLNewlines(item.description) }}
        </div>
    </div>
{[/]}
   
   